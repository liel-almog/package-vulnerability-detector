import { Injectable } from '@nestjs/common';
import {
  PackageJsonSchema,
  StringToPackageJsonSchema,
} from './dto/scan.dto.js';

@Injectable()
export class ScanService {
  npm(packageJsonString: string) {
    const packageJsonWithDependencies =
      StringToPackageJsonSchema.safeParse(packageJsonString);

    if (!packageJsonWithDependencies.success) {
      throw new Error('INVALID_PACKAGE_MANAGER');
    }

    const { dependencies } = packageJsonWithDependencies.data;
  }
}
